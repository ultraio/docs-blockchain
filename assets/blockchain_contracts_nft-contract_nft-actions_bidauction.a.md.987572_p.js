import{_ as i,c as s,o as a,N as t}from"./chunks/framework.Sw95nWd2.js";const u=JSON.parse('{"title":"bidauction.a","description":"","frontmatter":{"title":"bidauction.a","order":45},"headers":[],"relativePath":"blockchain/contracts/nft-contract/nft-actions/bidauction.a.md","filePath":"blockchain/contracts/nft-contract/nft-actions/bidauction.a.md","lastUpdated":null}'),e={name:"blockchain/contracts/nft-contract/nft-actions/bidauction.a.md"},n=t(`<h1 id="bidauction-a" tabindex="-1">bidauction.a <a class="header-anchor" href="#bidauction-a" aria-label="Permalink to &quot;bidauction.a&quot;">​</a></h1><p>Bid on an Uniq auction</p><h2 id="technical-behavior" tabindex="-1">Technical Behavior <a class="header-anchor" href="#technical-behavior" aria-label="Permalink to &quot;Technical Behavior&quot;">​</a></h2><p>The action checks that the auction exists in the <code>auction.a</code> table with the specified Uniq and verifies that the bid is placed between <code>start_date</code> and <code>expiry_date</code>.</p><p><code>bidder</code> is not allowed to bid on the auctions where he is the <code>owner</code>.</p><p><code>bid</code> must be at least <code>min_bid_increment_uos</code> UOS or <code>min_bid_increment_basis_point</code> basis points (units of 0.01%) higher than the previous bid. The values are defined in <a href="./../nft-tables.html#auctioncfg-a"><code>auctioncfg.a</code> table</a>. This does not apply if the auction does not have any <code>bidder</code> which is true for a new auction without any bids.</p><p><code>bidder</code> can bid on the auction where he is already the highest bidder.</p><p>UOS for the bid is transferred from the <code>bidder</code> account to the <code>eosio.nftauc</code> account and is released back to the original bidder if the new bid arrives.</p><p><code>eosio.nftram</code> pays RAM usage.</p><p>A successful bid stores information about the <code>bidder</code>, <code>bid</code>, <code>receiver</code> and <code>promoter_id</code> and may increase the <code>expiry_date</code> of the auction by <code>auction_extension_step</code> if it happens within <code>auction_extension_threshold</code>. The values are defined in the <code>auctioncfg.a</code> table.</p><h2 id="action-parameters" tabindex="-1">Action Parameters <a class="header-anchor" href="#action-parameters" aria-label="Permalink to &quot;Action Parameters&quot;">​</a></h2><p>Action accepts a single argument <code>bid</code> of type <code>bid_auction_wrap_v0</code>. The properties of this type are provided below:</p><table><thead><tr><th>Property Name</th><th>C++ Type</th><th>JavaScript Type</th><th>Description</th></tr></thead><tbody><tr><td>token_id</td><td>uint64_t</td><td>Number</td><td>ID of the Uniq for which there is an auction to bid on</td></tr><tr><td>bidder</td><td>name</td><td>String</td><td>Bidder account that authorizes the transaction and will pay the UOS bid</td></tr><tr><td>receiver</td><td>std::optional&lt;name&gt;</td><td>String / Null</td><td>Optional receiver account of the Uniq in case this bid wins the auction. If no account is provided, the bidder will be used as a receiver</td></tr><tr><td>bid</td><td>asset</td><td>String</td><td>Proposed bid for the auction. It must respect the minimum increment specified in <code>auctioncfg.a</code> table</td></tr><tr><td>promoter_id</td><td>std::optional&lt;name&gt;</td><td>Sting / Null</td><td>Optional promoter account</td></tr><tr><td>memo</td><td>string</td><td>String</td><td>Memo</td></tr></tbody></table><h2 id="cli-cleos" tabindex="-1">CLI - cleos <a class="header-anchor" href="#cli-cleos" aria-label="Permalink to &quot;CLI - cleos&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cleos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> action</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eosio.nft.ft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bidauction.a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[{&quot;token_id&quot;: 1, &quot;bidder&quot;: &quot;bob&quot;, &quot;receiver&quot;: null, &quot;bid&quot;: &quot;10.00000000 UOS&quot;, &quot;promoter_id&quot;: null, &quot;memo&quot;: &quot;my bid&quot;}]&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bob@active</span></span></code></pre></div><h2 id="javascript-eosjs" tabindex="-1">JavaScript - eosjs <a class="header-anchor" href="#javascript-eosjs" aria-label="Permalink to &quot;JavaScript - eosjs&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> transact</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            account: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;eosio.nft.ft&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bidauction.a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            authorization: [{ actor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bob&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, permission: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;active&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            data: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                bid: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    token_id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    bidder: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    receiver: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    bid: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10.00000000 UOS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    promoter_id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    memo: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my bid&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        blocksBehind: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        expireSeconds: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div>`,17),d=[n];function h(o,l,p,c,r,k){return a(),s("div",null,d)}const b=i(e,[["render",h]]);export{u as __pageData,b as default};
